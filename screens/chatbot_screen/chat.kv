<Chat>
    GridLayout:
        cols: 1

        MDTopAppBar:
            type: "small"
            md_bg_color: "white"
            
            MDTopAppBarLeadingButtonContainer:

                
                MDActionTopAppBarButton:
                    icon: "arrow-left"
                    on_release: root.change_screen("core_name")

    
            MDTopAppBarTitle:
                id: id_bar_chat
                text: "ChatBot"


                
            
        

        MDBoxLayout:
            size_hint_y: 4


            MDScrollView:
                scroll_y: 0

                MDBoxLayout:
                    id: id_box_chat
                    orientation: "vertical"
                    size_hint_y: None
                    height: self.minimum_height
                    padding: "25dp"
                    spacing: "25dp"

                   


                    
                
        
        BoxLayout:
            orientation: "horizontal"
            size_hint_y: 0.7
            spacing: "20dp"
            padding: "20dp"

            ScrollView:
                size_hint_x: 4
                scroll_y: 0

                MDTextField:
                    id: id_chat_keyboard
                    mode: "filled"
                    multiline: True
                    height: "100dp"
                    input_type: "text"
                    keyboard_suggestions: True
                    auto_indent: False
                    font_name: "Roboto" # para emojis

            
            MDIconButton:
                id: id_sender_keyboard
                size_hint_x: 1
                pos_hint: {"center_y": .7}
                icon: "send"
                on_release: root.send_message()





<MessageLayout>:
    id: id_box_message
    size_hint_y: None
    height: self.minimum_height
    pos_hint: {"center_y": 0.6, "center_x": 0.55}


    canvas:
        Color:
            rgba: 0.8, 0.8, 0.8, 1
            
        RoundedRectangle:
            pos: self.pos
            size: self.size
            radius: [(20, 20), (20, 20), (20, 20), (20, 20)]


<Message>:
    allow_selection: True
    allow_copy: True
    color: 0, 0, 0, 1


<MessageOtherLayout>:
    id: id_box_message
    size_hint_y: None
    height: self.minimum_height
    pos_hint: {"center_y": 0.4, "center_x": 0.45}


    canvas:
        Color:
            rgba: 0.1, 0.3, 0.8, 1
            
        RoundedRectangle:
            pos: self.pos
            size: self.size
            radius: [(20, 20), (20, 20), (20, 20), (20, 20)]
            


<MessageOther>:
    allow_selection: True
    allow_copy: True





